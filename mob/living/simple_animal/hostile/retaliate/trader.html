<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="mob/living/simple_animal/hostile/retaliate/trader.html#var">Var Details</a> - <a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc">Proc Details</a></header>
<main>
<h1>Trader <aside>/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/simple_animal.html">simple_animal</a>/<a href="mob/living/simple_animal/hostile.html">hostile</a>/<a href="mob/living/simple_animal/hostile/retaliate.html">retaliate</a>/<a href="mob/living/simple_animal/hostile/retaliate/trader.html">trader</a></aside>
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L26">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 26"/></a></h1>

<p>A mob that has some dialogue options with radials, allows for selling items and buying em'</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#var/currency_name">currency_name</a></th><td>The name of the currency that is used when buying or selling items</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#var/products">products</a></th><td>Format; list(TYPEPATH = list(PRICE, QUANTITY))
Associated list of items the NPC sells with how much they cost and the quantity available before a restock
This list is filled by Initialize(), if you want to change the starting products, modify initial_products()</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#var/say_phrases">say_phrases</a></th><td>Associated list of defines matched with list of phrases; phrase to be said is dealt by return_trader_phrase()</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#var/sell_sound">sell_sound</a></th><td>Sound used when item sold/bought</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#var/wanted_items">wanted_items</a></th><td>A list of wanted items that the trader would wish to buy, each typepath has a assigned value, quantity and additional flavor text</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/Initialize">Initialize</a></th><td>Initializes the products and item demands of the trader</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/apply_sell_price_mods">apply_sell_price_mods</a></th><td>Modifies the 'base' price of a item based on certain variables</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/buy_item">buy_item</a></th><td>Generates a radial of the items the NPC sells and lets the user try to buy one
Arguments:</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/check_menu">check_menu</a></th><td>Checks if the user is ok to use the radial</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/discuss">discuss</a></th><td>Talk about what items are being sold/wanted by the trader and in what quantity or lore</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/exchange_sold_items">exchange_sold_items</a></th><td>Handles modifying/deleting the items to ensure that a proper amount is converted into cash; put into it's own proc to make the children of this not override a 30+ line sell_item()</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/generate_cash">generate_cash</a></th><td>Creates an item equal to the value set by the proc and puts it in the user's hands if possible
Arguments:</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/initial_products">initial_products</a></th><td>Returns a list of the starting price/quanity/fluff text about the product listings; products = initial(products) doesn't work so this exists mainly for restock_products()</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/initial_wanteds">initial_wanteds</a></th><td>Returns a list of the starting price/quanity/fluff text about the wanted items; wanted_items = initial(wanted_items) doesn't work so this exists mainly for renew_item_demands()</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/interact">interact</a></th><td>Sets up the radials for the user and calls procs related to the actions the user wants to take</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/renew_item_demands">renew_item_demands</a></th><td>Sets quantity of all wanted_items to initial(quanity); this proc is currently not called anywhere on the base class of traders</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/restock_products">restock_products</a></th><td>Sets quantity of all products to initial(quanity); this proc is currently not called anywhere on the base class of traders</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/return_trader_phrase">return_trader_phrase</a></th><td>Depending on the passed parameter/override, returns a randomly picked string out of a list</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/sell_item">sell_item</a></th><td>Checks if an item is in the list of wanted items and if it is after a Yes/No radial returns generate_cash with the value of the item for the NPC
Arguments:</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/spend_buyer_offhand_money">spend_buyer_offhand_money</a></th><td>Calculates the value of money in the hand of the buyer and spends it if it's sufficient</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/trader_buys_what">trader_buys_what</a></th><td>Displays to the user what the trader is willing to buy and how much until a restock happens</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/trader_sells_what">trader_sells_what</a></th><td>Displays to the user what the trader is selling and how much is in stock</td></tr>
            <tr><th><a href="mob/living/simple_animal/hostile/retaliate/trader.html#proc/try_sell">try_sell</a></th><td>Tries to call sell_item on one of the user's held items, if fail gives a chat message</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/currency_name"><aside class="declaration">var </aside>currency_name
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L126">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 126"/></a></h3>
        <p>The name of the currency that is used when buying or selling items</p><h3 id="var/products"><aside class="declaration">var </aside>products
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L62">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 62"/></a></h3>
        <p>Format; list(TYPEPATH = list(PRICE, QUANTITY))
Associated list of items the NPC sells with how much they cost and the quantity available before a restock
This list is filled by Initialize(), if you want to change the starting products, modify initial_products()</p><h3 id="var/say_phrases"><aside class="declaration">var </aside>say_phrases
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L83">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 83"/></a></h3>
        <p>Associated list of defines matched with list of phrases; phrase to be said is dealt by return_trader_phrase()</p><h3 id="var/sell_sound"><aside class="declaration">var </aside>sell_sound
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L55">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 55"/></a></h3>
        <p>Sound used when item sold/bought</p><h3 id="var/wanted_items"><aside class="declaration">var </aside>wanted_items
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L81">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 81"/></a></h3>
        <p>A list of wanted items that the trader would wish to buy, each typepath has a assigned value, quantity and additional flavor text</p>
<p>CHILDREN OF TYPEPATHS INCLUDED IN WANTED_ITEMS WILL BE TREATED AS THE PARENT IF NO ENTRY EXISTS FOR THE CHILDREN</p>
<p>As an additional note; if you include multiple children of a typepath; the typepath with the most children should be placed after all other typepaths
Bad; list(/obj/item/milk = list(100, 1, &quot;&quot;), /obj/item/milk/small = list(50, 2, &quot;&quot;))
Good; list(/obj/item/milk/small = list(50, 2, &quot;&quot;), /obj/item/milk = list(100, 1, &quot;&quot;))
This is mainly because sell_item() uses a istype(item_being_sold, item_in_entry) to determine what parent should the child be automatically considered as
If /obj/item/milk/small/spooky was being sold; /obj/item/milk/small would be the first to check against rather than /obj/item/milk</p>
<p>Format; list(TYPEPATH = list(PRICE, QUANTITY, ADDITIONAL_DESCRIPTION))
Associated list of items able to be sold to the NPC with the money given for them.
The price given should be the &quot;base&quot; price; any price manipulation based on variables should be done with apply_sell_price_mods()
ADDITIONAL_DESCRIPTION is any additional text added to explain how the variables of the item effect the price; if it's stack based, it's final price depends how much is in the stack
EX; /obj/item/stack/sheet/mineral/diamond = list(500, INFINITY, &quot;, per 100 cm3 sheet of diamond&quot;)
This list is filled by Initialize(), if you want to change the starting wanted items, modify initial_wanteds()</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="parent"><a title="/mob" href="mob.html#proc/Initialize">&uarr;</a></aside>Initialize<aside>(mapload) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L129">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 129"/></a></aside>
        </h3>
        <p>Initializes the products and item demands of the trader</p><h3 id="proc/apply_sell_price_mods"><aside class="declaration">proc </aside>apply_sell_price_mods<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/selling, original_cost) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L390">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 390"/></a></aside>
        </h3>
        <p>Modifies the 'base' price of a item based on certain variables</p>
<p>Arguments:</p>
<ul>
<li>Reference to the item; this is the item being sold</li>
<li>Original cost; the original cost of the item, to be manipulated depending on the variables of the item, one example is using item.amount if it's a stack</li>
</ul><h3 id="proc/buy_item"><aside class="declaration">proc </aside>buy_item<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L246">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 246"/></a></aside>
        </h3>
        <p>Generates a radial of the items the NPC sells and lets the user try to buy one
Arguments:</p>
<ul>
<li>user - (Mob REF) The mob trying to buy something</li>
</ul><h3 id="proc/check_menu"><aside class="declaration">proc </aside>check_menu<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L188">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 188"/></a></aside>
        </h3>
        <p>Checks if the user is ok to use the radial</p>
<p>Checks if the user is not a mob or is incapacitated or not adjacent to the source of the radial, in those cases returns FALSE, otherwise returns TRUE
Arguments:</p>
<ul>
<li>user - (Mob REF) The mob checking the menu</li>
</ul><h3 id="proc/discuss"><aside class="declaration">proc </aside>discuss<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L196">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 196"/></a></aside>
        </h3>
        <p>Talk about what items are being sold/wanted by the trader and in what quantity or lore</p><h3 id="proc/exchange_sold_items"><aside class="declaration">proc </aside>exchange_sold_items<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/selling, value_exchanged_for, original_typepath) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L372">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 372"/></a></aside>
        </h3>
        <p>Handles modifying/deleting the items to ensure that a proper amount is converted into cash; put into it's own proc to make the children of this not override a 30+ line sell_item()</p>
<p>Arguments:</p>
<ul>
<li>selling - (Item REF) this is the item being sold</li>
<li>value_exchanged_for - (Number) the &quot;value&quot;, useful for a scenario where you want to remove enough items equal to the value</li>
<li>original_typepath - (Typepath) For scenarios where a children of a parent is being sold but we want to modify the parent's product information</li>
</ul><h3 id="proc/generate_cash"><aside class="declaration">proc </aside>generate_cash<aside>(value, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L402">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 402"/></a></aside>
        </h3>
        <p>Creates an item equal to the value set by the proc and puts it in the user's hands if possible
Arguments:</p>
<ul>
<li>value - A number; The amount of cash that will be on the holochip</li>
<li>user - Reference to a mob; The mob we put the holochip in hands of</li>
</ul><h3 id="proc/initial_products"><aside class="declaration">proc </aside>initial_products<aside>() 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L135">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 135"/></a></aside>
        </h3>
        <p>Returns a list of the starting price/quanity/fluff text about the product listings; products = initial(products) doesn't work so this exists mainly for restock_products()</p><h3 id="proc/initial_wanteds"><aside class="declaration">proc </aside>initial_wanteds<aside>() 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L140">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 140"/></a></aside>
        </h3>
        <p>Returns a list of the starting price/quanity/fluff text about the wanted items; wanted_items = initial(wanted_items) doesn't work so this exists mainly for renew_item_demands()</p><h3 id="proc/interact">interact<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L158">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 158"/></a></aside>
        </h3>
        <p>Sets up the radials for the user and calls procs related to the actions the user wants to take</p><h3 id="proc/renew_item_demands"><aside class="declaration">proc </aside>renew_item_demands<aside>() 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L411">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 411"/></a></aside>
        </h3>
        <p>Sets quantity of all wanted_items to initial(quanity); this proc is currently not called anywhere on the base class of traders</p><h3 id="proc/restock_products"><aside class="declaration">proc </aside>restock_products<aside>() 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L407">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 407"/></a></aside>
        </h3>
        <p>Sets quantity of all products to initial(quanity); this proc is currently not called anywhere on the base class of traders</p><h3 id="proc/return_trader_phrase"><aside class="declaration">proc </aside>return_trader_phrase<aside>(say_text) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L151">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 151"/></a></aside>
        </h3>
        <p>Depending on the passed parameter/override, returns a randomly picked string out of a list</p>
<p>Do note when overriding this argument, you will need to ensure pick(the list) doesn't get supplied with a list of zero length
Arguments:</p>
<ul>
<li>say_text - (String) a define that matches the key of a entry in say_phrases</li>
</ul><h3 id="proc/sell_item"><aside class="declaration">proc </aside>sell_item<aside>(/<a href="mob.html">mob</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/selling) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L319">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 319"/></a></aside>
        </h3>
        <p>Checks if an item is in the list of wanted items and if it is after a Yes/No radial returns generate_cash with the value of the item for the NPC
Arguments:</p>
<ul>
<li>user - (Mob REF) The mob trying to sell something</li>
<li>selling - (Item REF) The item being sold</li>
</ul><h3 id="proc/spend_buyer_offhand_money"><aside class="declaration">proc </aside>spend_buyer_offhand_money<aside>(/<a href="mob.html">mob</a>/user, the_cost) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L288">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 288"/></a></aside>
        </h3>
        <p>Calculates the value of money in the hand of the buyer and spends it if it's sufficient</p><h3 id="proc/trader_buys_what"><aside class="declaration">proc </aside>trader_buys_what<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L212">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 212"/></a></aside>
        </h3>
        <p>Displays to the user what the trader is willing to buy and how much until a restock happens</p><h3 id="proc/trader_sells_what"><aside class="declaration">proc </aside>trader_sells_what<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L227">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 227"/></a></aside>
        </h3>
        <p>Displays to the user what the trader is selling and how much is in stock</p><h3 id="proc/try_sell"><aside class="declaration">proc </aside>try_sell<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/code/modules/mob/living/simple_animal/hostile/retaliate/trader.dm#L304">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;living&#x2F;simple_animal&#x2F;hostile&#x2F;retaliate&#x2F;trader.dm 304"/></a></aside>
        </h3>
        <p>Tries to call sell_item on one of the user's held items, if fail gives a chat message</p>
<p>Gets both items in the user's hands, and then tries to call sell_item on them, if both fail, he gives a chat message
Arguments:</p>
<ul>
<li>user - (Mob REF) The mob trying to sell something</li>
</ul></main>
<footer>
    tgstation.dme
    <a href="https://github.com/ss220club/Skyrat-tg/tree/7005e7d7be5fdf147a5a0be095c7d866528ffaab">7005e7d</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.7.3</a></footer>
</body>
</html>
