<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>modular_skyrat&#x2F;modules&#x2F;multiserver&#x2F;readme.md - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
</header>
<main>
<h1>modular_skyrat/modules/multiserver/readme.md 
            <a href="https://github.com/ss220club/Skyrat-tg/blob/7005e7d7be5fdf147a5a0be095c7d866528ffaab/modular_skyrat/modules/multiserver/readme.md">
        <img src="git.png" width="16" height="16" title="modular_skyrat&#x2F;modules&#x2F;multiserver&#x2F;readme.md"/></a></h1>

<table class="summary" cellspacing="0">
        <tr><td colspan="2"><p><a href="https://github.com/Skyrat-SS13/Skyrat-tg/pull/4032">https://github.com/Skyrat-SS13/Skyrat-tg/pull/4032</a></p>
<hh2 id="title-stuff-to-accomodate-multiple-servers-talking-to-the-same-database">Title: Stuff to accomodate multiple servers talking to the same database.</hh2>
<p>MODULE ID: MULTISERVER</p>
<hh3 id="description">Description:</hh3>
<p>So far includes:<br />
Toggle between local and global bans.<br />
Ability to more easily organize statistics from separate servers in the database.</p>
<p>It isn't coded in an idiotproof way, so make sure your configs and db are up to date before merging this.</p>
<hh3 id="tg-proc-file-changes">TG Proc/File Changes:</hh3>
<ul>
<li><code>**code/controllers/subsystem/blackbox.dm**</code> - added a column with server name in death logs and population statistics</li>
<li><code>**code/controllers/subsystem/dbcore.dm**</code> - added a column with server name in round logs</li>
<li><code>**code/modules/admin/IsBanned.dm**</code>, <code>**code/modules/admin/sql_ban_system.dm**</code> - a column with server name and tracking whether the bans are global, also altered the banning panel to allow global/local ban choices</li>
<li><code>**code/modules/admin/sql_message_system.dm**</code> - notes are cross-server, but now they track which server they were applied on</li>
<li><code>**code/modules/client/client_procs.dm**</code> - added a column with server name in server login logs</li>
<li><code>**code/__DEFINES/subsystems.dm**</code> - Increment minor version of DB schema</li>
</ul>
<hh3 id="defines">Defines:</hh3>
<ul>
<li>#define DB_MINOR_VERSION 12 -&gt; 13</li>
</ul>
<hh3 id="master-file-additions">Master file additions</hh3>
<ul>
<li>N/A</li>
</ul>
<hh3 id="included-files-that-are-not-contained-in-this-module">Included files that are not contained in this module:</hh3>
<ul>
<li>N/A</li>
</ul>
<hh3 id="credits">Credits:</hh3>
<p>Implementing on Skyrat: Useroth</p>
<p>Heavily inspired by the solutions presented in the <a href="https://github.com/BeeStation/BeeStation-Hornet">BeeStation-Hornet codebase</a></p>
<p>Hard to really pinpoint all the original authors of the code due to the incredible web of ports involved in this, including some now removed code that was present in the tg codebase in the past, but I'll try the major ones who put the effort into porting or implementing it in the first place.<br />
Feel free to poke me if I omitted anyone.</p>
<p><a href="https://github.com/MarkSuckerberg">MarkSuckeberg</a><br />
<a href="https://github.com/Crossedfall">Crossedfall</a><br />
<a href="https://github.com/qwertyquerty">qwertyqwerty</a></p>
<hh3 id="patch-log">Patch Log</hh3>
<p>PR: https://github.com/Skyrat-SS13/Skyrat-tg/pull/4785</p></td></tr></table></main>
<footer>
    tgstation.dme
    <a href="https://github.com/ss220club/Skyrat-tg/tree/7005e7d7be5fdf147a5a0be095c7d866528ffaab">7005e7d</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.7.3</a></footer>
</body>
</html>
